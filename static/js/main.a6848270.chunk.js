(this.webpackJsonpyelper=this.webpackJsonpyelper||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(13),c=a.n(r),o=(a(76),a(77),a(78),a(9)),i=a(28),u=a.n(i),s=(a(96),a(124)),d=a(118),m=a(119),E=a(128),h=a(120),p=a(68),f=a(125),g=a(121),y=(a(97),a(22)),b=a(18),v=a(34),x=a(19),k=function(e){var t=Object(y.f)();var a=function(e){var t,a=e,n=5-Math.ceil(a),r=[];if(t=a,Number(t)===t&&t%1!==0){for(var c=Math.floor(a),o=1;o<=c;o++)r.push(l.a.createElement(b.a,{color:"orange"}));r.push(l.a.createElement(b.b,{color:"orange"}))}else for(var i=1;i<=a;i++)r.push(l.a.createElement(b.a,{color:"orange"}));for(var u=1;u<=n;)r.push(l.a.createElement(b.c,{color:"orange"})),u++;return r},n=e.restaurantsList.map((function(e,n){return l.a.createElement(E.a,{key:n,className:"card-margin",height:"300"},l.a.createElement(E.a.Img,{variant:"top",src:e.image_url,height:"250"}),l.a.createElement(E.a.Body,{style:{height:"240"}},l.a.createElement(E.a.Title,null,e.name),l.a.createElement(E.a.Text,null,function(e,t){var a=[];return a.push(l.a.createElement(x.c,{color:"#e53935"})),e.address1&&""!==e.address1&&a.push(" ".concat(e.address1,", ")),a.push(" ".concat(e.city,", ").concat(e.state," ").concat(e.zip_code)),a}(e.location)),l.a.createElement(E.a.Text,null,function(e,t){var a=e,n=[];if(null!=a){n.push(l.a.createElement("span",{key:t},"Price: "));for(var r=0;r<a.length;r++)n.push(l.a.createElement(v.a,{color:"green"}))}return n}(e.price,n)),l.a.createElement(E.a.Text,null,"Rating: ",a(e.rating)),l.a.createElement(E.a.Text,null,l.a.createElement(x.a,{color:"#e53935"}),"\xa0",l.a.createElement("a",{href:"tel:".concat(e.phone)},e.display_phone))),l.a.createElement(d.a,{onClick:function(){!function(e){t.push("/yelper/details",{detailsObject:e})}(e)},variant:"success",style:{margin:"4px"}},"More information"))}));return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(m.a,null,l.a.createElement(h.a,{className:"justify-content-md-center"},n)))},C="https://proxy-kvebkxhnxa-uc.a.run.app/",j="0_D7bpohIZdHag_NVVAdFsxhf4uOgYuEZaMfMN5HCpHS3eMhGPMTM-sLJ1WJMEy1j3SDqCvbZ7jm8x7Adnk5sZadiOiTw5lLuvbZgU8lk7ucOdIhzbrL1Pe3KaVlXnYx";function O(e){return l.a.createElement(s.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(s.a.Header,{closeButton:!0},l.a.createElement(s.a.Title,{id:"contained-modal-title-vcenter"},e.title)),l.a.createElement(s.a.Body,null,l.a.createElement("p",null,e.description)),l.a.createElement(s.a.Footer,null,l.a.createElement(d.a,{variant:"danger",onClick:e.onHide},"Close")))}var w=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),y=s[0],b=s[1],v=Object(n.useState)([]),w=Object(o.a)(v,2),P=w[0],S=w[1],T=Object(n.useState)({}),M=Object(o.a)(T,2),A=(M[0],M[1]),N=Object(n.useState)([1,1,1,1]),L=Object(o.a)(N,2),I=L[0],H=L[1],R=Object(n.useState)("1,2,3,4"),B=Object(o.a)(R,2),_=B[0],z=B[1],G=Object(n.useState)(!1),$=Object(o.a)(G,2),Z=$[0],J=$[1],W=Object(n.useState)({title:"",description:""}),D=Object(o.a)(W,2),K=D[0],V=D[1],Y=function(e,t){var a=I,n=e.target.checked?1:0;switch(t){case 0:a[0]=n;break;case 1:a[1]=n;break;case 2:a[2]=n;break;case 3:a[3]=n}var l=[];a.forEach((function(e,t){return 1===e?l.push(t+1):null})),H(a),0===l.toString().length?z("1,2,3,4"):z(l.toString())};return l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement(E.a,{className:"justify-content-md-center",style:{width:"75%",marginTop:"16px",marginLeft:"auto",marginRight:"auto"}},l.a.createElement(E.a.Body,null,l.a.createElement(h.a,{className:"justify-content-md-center"},l.a.createElement(p.a,null,l.a.createElement("h1",null,l.a.createElement("center",null,"Yelper")),l.a.createElement(f.a,null,l.a.createElement(f.a.Group,{controlId:"basic"},l.a.createElement(f.a.Label,null,"Enter Restaurant Name/Food Style"),l.a.createElement(g.a,null,l.a.createElement(g.a.Prepend,null,l.a.createElement(g.a.Text,{id:"inputGroupPrepend"},l.a.createElement(x.d,null))),l.a.createElement(f.a.Control,{onChange:function(e){c(e.target.value)},placeholder:"Restaurant"}))),l.a.createElement(f.a.Group,{controlId:"basic"},l.a.createElement(f.a.Label,null,"Enter Location"),l.a.createElement(g.a,null,l.a.createElement(g.a.Prepend,null,l.a.createElement(g.a.Text,{id:"inputGroupPrepend"},l.a.createElement(x.b,null))),l.a.createElement(f.a.Control,{onChange:function(e){b(e.target.value)},placeholder:"Location (i.e. Atlanta, GA)"})))))),l.a.createElement(h.a,{style:{marginTop:"4px"}},l.a.createElement(p.a,null,l.a.createElement("p",null,"Check the price range boxes to filter the search results."),l.a.createElement(g.a,{className:"mb-3"},l.a.createElement(g.a.Prepend,{style:{marginRight:"16px"}},l.a.createElement(g.a.Text,null,"$"),l.a.createElement(g.a.Checkbox,{onChange:function(e){Y(e,0)},"aria-label":"Checkbox for following text input",checked:1===I[0]?"checked":null})),l.a.createElement(g.a.Prepend,{style:{marginRight:"16px"}},l.a.createElement(g.a.Text,null,"$$"),l.a.createElement(g.a.Checkbox,{onChange:function(e){Y(e,1)},"aria-label":"Checkbox for following text input",checked:1===I[1]?"checked":null})),l.a.createElement(g.a.Prepend,{style:{marginRight:"16px"}},l.a.createElement(g.a.Text,null,"$$$"),l.a.createElement(g.a.Checkbox,{onChange:function(e){Y(e,2)},"aria-label":"Checkbox for following text input",checked:1===I[2]?"checked":null})),l.a.createElement(g.a.Prepend,{style:{marginRight:"16px"}},l.a.createElement(g.a.Text,null,"$$$$"),l.a.createElement(g.a.Checkbox,{onChange:function(e){Y(e,3)},"aria-label":"Checkbox for following text input",checked:1===I[3]?"checked":null}))))),l.a.createElement(d.a,{variant:"dark",onClick:function(e){return 0===r.length&&0===y.length?(V({title:"Enter a restaurant and location",description:"Please enter both a restaurant and a location."}),void J(!0)):0===y.length?(V({title:"Enter a location",description:"Please enter a location in addition to the restaurant."}),void J(!0)):void u.a.get("".concat(C,"https://api.yelp.com/v3/businesses/search?term=").concat(r,"&categories=food&location=").concat(y,"&price=").concat(_),{headers:{Authorization:"Bearer ".concat(j)}}).then((function(e){0===e.data.businesses.length?(V({title:"No results found",description:"No results were found. Please try a different search option."}),J(!0)):S(e.data.businesses)})).catch((function(e){V({title:"Error with API",description:"There seems to be a problem with the API. Please try again later."}),J(!0),console.log("Error occured: ",e)}))}},"Submit"),l.a.createElement(d.a,{variant:"dark",onClick:function(){var e=navigator.geolocation;e?e.getCurrentPosition((function(e){A(e.coords),u.a.get("".concat(C,"https://api.yelp.com/v3/businesses/search?term=").concat(r,"&categories=food&latitude=").concat(e.coords.latitude,"&longitude=").concat(e.coords.longitude,"&radius=15000&price=").concat(_),{headers:{Authorization:"Bearer ".concat(j)}}).then((function(e){0===e.data.businesses.length?(V({title:"No results found",description:"No results were found. Please try a different search option."}),J(!0)):S(e.data.businesses)})).catch((function(e){console.log("Error occured: ",e),V({title:"Error with API",description:"There seems to be a problem with the API. Please try again later."}),J(!0)}))}),(function(e){V({title:"Cannot find user location",description:"Make sure your browser supports HTML5 Geolocation and that the Location permission is set to 'Allow' for this site."}),J(!0)})):console.log("Location API is not supported/available")},className:"float-right"},"Restaurants Near Me"))),P.length>0?l.a.createElement(k,{restaurantsList:P}):null,l.a.createElement(O,{title:K.title,description:K.description,show:Z,onHide:function(){return J(!1)}})))},P=a(127),S=a(122),T=a(126),M=a(123),A=a(32),N=Object(A.GoogleApiWrapper)({apiKey:"".concat("AIzaSyDRlx7m4oQEsTGbJVhuJpRSEeAaY4lpCx4")})((function(e){var t=Object(y.g)(),a=Object(n.useState)(t.state.detailsObject),r=Object(o.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(!1),p=Object(o.a)(s,2),f=p[0],g=p[1],k=Object(n.useState)({}),C=Object(o.a)(k,2),j=C[0],O=C[1],w=Object(n.useState)({}),N=Object(o.a)(w,2),L=(N[0],N[1]);Object(n.useEffect)((function(){u.a.get("".concat("https://proxy-kvebkxhnxa-uc.a.run.app/","https://api.yelp.com/v3/businesses/").concat(c.id),{headers:{Authorization:"Bearer ".concat("0_D7bpohIZdHag_NVVAdFsxhf4uOgYuEZaMfMN5HCpHS3eMhGPMTM-sLJ1WJMEy1j3SDqCvbZ7jm8x7Adnk5sZadiOiTw5lLuvbZgU8lk7ucOdIhzbrL1Pe3KaVlXnYx")}}).then((function(e){i(e.data)})).catch((function(e){console.log("Error occured: ",e)}))}),[]);var I=c.categories.map((function(e,t){return l.a.createElement("span",{key:t},e.title,", ")})),H=c.photos&&c.photos.map((function(e,t){return l.a.createElement(P.a.Item,null,l.a.createElement("div",{style:{overflow:"hidden",height:"400px"}},l.a.createElement("img",{className:"d-block w-100",src:e,alt:"Restaurant",key:t,style:{backgroundPosition:"center center"}})))})),R={width:"100%",height:"400px",position:"relative"};var B=function(e){var t="";return(e=e.toString().match(/^([01]\d|2[0-3])([0-5]\d)/)).length>1&&(t=(e[1]%12||12)+":"+e[2]+(e[1]<12?" AM":" PM")),t};return l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement(h.a,{className:"justify-content-md-center"},l.a.createElement(E.a,{style:{width:"100%"}},l.a.createElement(E.a.Body,{style:{padding:"0.5rem"}},l.a.createElement(P.a,null,H)))),l.a.createElement("br",null),l.a.createElement(h.a,{className:"justify-content-md-center"},l.a.createElement(E.a,{style:{width:"100%"}},l.a.createElement(E.a.Header,null,l.a.createElement("center",null,l.a.createElement("h1",null,c.name))),l.a.createElement(E.a.Body,{style:{padding:"0rem"}},l.a.createElement(A.Map,{google:e.google,style:R,containerStyle:R,zoom:20,initialCenter:{lat:c.coordinates.latitude,lng:c.coordinates.longitude}},l.a.createElement(A.Marker,{title:"".concat(c.name),name:"".concat(c.name),onClick:function(e,t,a){L(e),O(t),g(!0)},position:{lat:c.coordinates.latitude,lng:c.coordinates.longitude}}),l.a.createElement(A.InfoWindow,{marker:j,visible:f,onClose:function(e){f&&(O(null),g(!1))}},l.a.createElement("h4",null,c.name)))))),l.a.createElement(h.a,{style:{marginTop:"16px"}},l.a.createElement(E.a,{style:{width:"100%"}},l.a.createElement(E.a.Header,null,"Restaurant Details"),l.a.createElement(E.a.Body,null,l.a.createElement(T.a,{defaultActiveKey:"general",id:"uncontrolled-tab-example"},l.a.createElement(M.a,{style:{padding:"16px"},eventKey:"general",title:"General"},l.a.createElement("p",null,"Cuisines: ",I),l.a.createElement("p",null,function(){var e=c.price,t=[];if(null!=e){t.push(l.a.createElement("span",null,"Price: "));for(var a=0;a<e.length;a++)t.push(l.a.createElement(v.a,{color:"green"}))}return t}()),l.a.createElement("p",null,"Rating: ",function(){var e,t=c.rating,a=5-Math.ceil(t),n=[];if(e=t,Number(e)===e&&e%1!==0){for(var r=Math.floor(t),o=1;o<=r;o++)n.push(l.a.createElement(b.a,{color:"orange"}));n.push(l.a.createElement(b.b,{color:"orange"}))}else for(var i=1;i<=t;i++)n.push(l.a.createElement(b.a,{color:"orange"}));for(var u=1;u<=a;)n.push(l.a.createElement(b.c,{color:"orange"})),u++;return n}()," ",c.review_count," reviews"),l.a.createElement("a",{variant:"outline-primary",target:"_blank",rel:"noopener noreferrer",href:c.url},l.a.createElement(d.a,{variant:"outline-primary"},"Yelp Link"))),l.a.createElement(M.a,{style:{padding:"16px"},eventKey:"address",title:"Address/Contact"},l.a.createElement("p",null,l.a.createElement(x.c,{color:"#e53935"})," ",""!==c.location.address1?"".concat(c.location.address1,", ").concat(c.location.city,", ").concat(c.location.state," ").concat(c.location.zip_code):"".concat(c.location.city,", ").concat(c.location.state," ").concat(c.location.zip_code)),l.a.createElement("p",null,l.a.createElement(x.a,{color:"#e53935"})," ",l.a.createElement("a",{href:"tel:".concat(c.phone)},c.display_phone))),l.a.createElement(M.a,{style:{padding:"16px"},eventKey:"hours",title:"Open Hours"},l.a.createElement("p",null,function(){var e=[],t="";if(c.hours&&c.hours[0].open){var a=c.hours[0].open;a.filter((function(e){return 0===e.day})).length>0?(t=a.filter((function(e){return 0===e.day})),e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Monday"),l.a.createElement("td",null,B(t[0].start)," - ",B(t[0].end))))):e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Monday"),l.a.createElement("td",{style:{color:"red"}},"Closed"))),a.filter((function(e){return 1===e.day})).length>0?(t=a.filter((function(e){return 1===e.day})),e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Tuesday"),l.a.createElement("td",null,B(t[0].start)," - ",B(t[0].end))))):e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Tuesday"),l.a.createElement("td",{style:{color:"red"}},"Closed"))),a.filter((function(e){return 2===e.day})).length>0?(t=a.filter((function(e){return 2===e.day})),e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Wednesday"),l.a.createElement("td",null,B(t[0].start)," - ",B(t[0].end))))):e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Wednesday"),l.a.createElement("td",{style:{color:"red"}},"Closed"))),a.filter((function(e){return 3===e.day})).length>0?(t=a.filter((function(e){return 3===e.day})),e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Thursday"),l.a.createElement("td",null,B(t[0].start)," - ",B(t[0].end))))):e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Thursday"),l.a.createElement("td",{style:{color:"red"}},"Closed"))),a.filter((function(e){return 4===e.day})).length>0?(t=a.filter((function(e){return 4===e.day})),e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Friday"),l.a.createElement("td",null,B(t[0].start)," - ",B(t[0].end))))):e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Friday"),l.a.createElement("td",{style:{color:"red"}},"Closed"))),a.filter((function(e){return 5===e.day})).length>0?(t=a.filter((function(e){return 5===e.day})),e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Saturday"),l.a.createElement("td",null,B(t[0].start)," - ",B(t[0].end))))):e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Saturday"),l.a.createElement("td",{style:{color:"red"}},"Closed"))),a.filter((function(e){return 6===e.day})).length>0?(t=a.filter((function(e){return 6===e.day})),e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Sunday"),l.a.createElement("td",null,B(t[0].start)," - ",B(t[0].end))))):e.push(l.a.createElement("tr",null,l.a.createElement("td",null,"Sunday"),l.a.createElement("td",{style:{color:"red"}},"Closed")))}return(l.a.createElement(S.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Day"),l.a.createElement("th",null,"Hours"))),l.a.createElement("tbody",null,e," ")))}()))))))))})),L=a(33);var I=function(){return l.a.createElement(L.a,null,l.a.createElement(y.c,null,l.a.createElement(y.a,{path:"/yelper/details"},l.a.createElement(N,null)),l.a.createElement(y.a,{path:"/yelper"},l.a.createElement(w,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},71:function(e,t,a){e.exports=a(116)},76:function(e,t,a){},77:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.a6848270.chunk.js.map